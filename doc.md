# 使用变量

变量使您能够在 Postman 中存储和重用值。通过将值存储为变量，您可以在整个集合、环境、请求和测试脚本中引用它。变量可帮助您高效工作、与队友协作以及设置动态工作流。

## 了解变量

变量是数据的符号表示，使您无需在任何需要的地方手动输入即可访问值。如果您在多个地方使用相同的值，这会很有用。通过抽象细节，变量使您的请求更加灵活和可读。

例如，如果您在多个请求中有相同的 URL，但 URL 稍后可能会更改，您可以将 URL 存储在一个变量中，base_url并在您的请求中使用{{base_url}}. 如果 URL 发生变化，您可以更改变量值，它会反映在整个集合中，无论您在何处使用变量名称。

同样的原则适用于您请求中重复数据的任何部分。当您的请求运行时，无论您在何处引用该变量，变量中存储的任何值都将包含在内。如果基本 URL 值为https://postman-echo.com，并且被列为使用的请求 URL 的一部分{{base_url}}/get，Postman 会将请求发送到https://postman-echo.com/get。

## 变量作用域

Postman 支持不同范围的变量，允许您针对各种开发、测试和协作任务定制您的处理。Postman 中的范围与您的请求运行的不同上下文相关，不同的变量范围适用于不同的任务。

按照从最广泛到最狭窄的顺序，这些范围是：global、collection、environment、data和local。

- 全局变量使您能够访问集合、请求、测试脚本和环境之间的数据。全局变量在整个工作空间中可用。由于全局变量在 Postman 中具有最广泛的可用范围，因此它们非常适合测试和原型制作。在以后的开发阶段，使用更具体的范围。
- 集合变量在集合中的整个请求中都可用，并且独立于环境。集合变量不会根据所选环境而改变。如果您使用单一环境，例如身份验证或 URL 详细信息，集合变量是合适的。
- 环境变量使您能够将工作范围限定在不同的环境中，例如本地开发与测试或生产。一次可以激活一个环境。如果您只有一个环境，使用集合变量会更有效，但环境使您能够指定基于角色的访问级别。
- 数据变量来自外部 CSV 和 JSON 文件，用于定义您在使用Newman或Collection Runner运行集合时可以使用的数据集。数据变量具有当前值，这些值不会在请求或收集运行之后持续存在。
- 局部变量是在您的请求脚本中访问的临时变量。局部变量值的范围仅限于单个请求或集合运行，并且在运行完成后不再可用。如果您需要一个值来覆盖所有其他变量范围，但不希望该值在执行结束后持续存在，则局部变量是合适的。

![图片](./var-scope-v10.jpg)
